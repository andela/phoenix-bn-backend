{"version":3,"sources":["../../../src/routes/api/index.js"],"names":["router","require","Router","use","err","req","res","next","name","status","json","errors","Object","keys","reduce","key","message","module","exports"],"mappings":";;AAAA,IAAMA,MAAM,GAAGC,OAAO,CAAC,SAAD,CAAP,CAAmBC,MAAnB,EAAf;;AAEAF,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgBF,OAAO,CAAC,SAAD,CAAvB;AAEAD,MAAM,CAACG,GAAP,CAAW,UAASC,GAAT,EAAcC,GAAd,EAAmBC,GAAnB,EAAwBC,IAAxB,EAA8B;AACrC,MAAIH,GAAG,CAACI,IAAJ,KAAa,iBAAjB,EAAoC;AAChC,WAAOF,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACxBC,MAAAA,MAAM,EAAEC,MAAM,CAACC,IAAP,CAAYT,GAAG,CAACO,MAAhB,EAAwBG,MAAxB,CAA+B,UAASH,MAAT,EAAiBI,GAAjB,EAAsB;AACzDJ,QAAAA,MAAM,CAACI,GAAD,CAAN,GAAcX,GAAG,CAACO,MAAJ,CAAWI,GAAX,EAAgBC,OAA9B;AACA,eAAOL,MAAP;AACH,OAHO,EAGL,EAHK;AADgB,KAArB,CAAP;AAMH;;AAED,SAAOJ,IAAI,CAACH,GAAD,CAAX;AACH,CAXD;AAaAa,MAAM,CAACC,OAAP,GAAiBlB,MAAjB","sourcesContent":["const router = require(\"express\").Router();\n\nrouter.use(\"/\", require(\"./users\"));\n\nrouter.use(function(err, req, res, next) {\n    if (err.name === \"ValidationError\") {\n        return res.status(422).json({\n            errors: Object.keys(err.errors).reduce(function(errors, key) {\n                errors[key] = err.errors[key].message;\n                return errors;\n            }, {})\n        });\n    }\n\n    return next(err);\n});\n\nmodule.exports = router;\n"],"file":"index.js"}